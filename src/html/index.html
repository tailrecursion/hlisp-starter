<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>hlisp test</title>

  <style type="text/css">
    span { cursor: pointer; color: darkblue; }
    span.active,
    span.active.hover { color: red; }
    span.hover { color: blue; text-decoration: underline; }
    span.selected { color: green; }
    span.disabled { text-decoration: line-through; }
  </style>
</head>
<body>

  <script type="text/hlisp">

    (ns holyshit
      (:use
        [ui.core :only [make-linked-selects]]
        [flapjax.core :only [mapE]]
        [flapjax.hlisp :only [initE B->E]])
      (:use-macros
        [hlisp.macros :only [def-values]]))

    (def l1 (make-linked-selects 2 span "one" span "two" span "three"))
                                 
    (def-values [[s1r1 s1r2 s1r3] [s2r1 s2r2 s2r3]] (mapv :options (:selects l1)))

    (initE (:linkedE l1) ["one" "two"])

    (mapE #(js/console.log (str %)) (B->E (:linkedB l1)))

  </script>

  <div>
    <h1>Hello world</h1>
    <p>This is a test.</p>

    <hr>

    <ul>
      <li>
        <s1r1>doit 1</s1r1>
      </li>
      <li>
        <s1r2>doit 2</s1r2>
      </li>
      <li>
        <s1r3>doit 3</s1r3>
      </li>
    </ul>

    <hr>

    <ul>
      <li>
        <s2r1>doit 1</s2r1>
      </li>
      <li>
        <s2r2>doit 2</s2r2>
      </li>
      <li>
        <s2r3>doit 3</s2r3>
      </li>
    </ul>

    <hr>
  </div>

</body>
</html>

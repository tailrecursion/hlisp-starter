<html>
<head>
  <meta charset="utf-8" />
  <title>hlisp test</title>

  <style type="text/css">
    span { cursor: pointer; color: darkblue; }
    span.active,
    span.active.hover { color: red; }
    span.hover { color: blue; text-decoration: underline; }
    span.selected { color: green; }
    span.disabled { text-decoration: line-through; }
  </style>
</head>
<body>

  <script type="text/hlisp">

    (ns holyshit
      (:use
        [ui.core :only [make-linked-selects]]
        [flapjax.core :only [mapE skipFirstE]]
        [flapjax.hlisp :only [initE B->E]])
      (:use-macros
        [hlisp.macros :only [def-values]]))

    (def l1 (make-linked-selects 2 span "one" span "two" span "three"))
                                 
    (def-values [[s1r1 s1r2 s1r3] [s2r1 s2r2 s2r3]] (mapv :options (:selects l1)))

    (initE (:linkedE l1) ["one" "two"])

    (mapE #(js/console.log (str %)) (skipFirstE (B->E (:linkedB l1))))

    (defn myselects [x1 x2 x3 y1 y2 y3]
      (div
        (ul
          (li x1)
          (li x2)
          (li x3))
        (ul
          (li y1)
          (li y2)
          (li y3))))

  </script>

  <h1>Hello world</h1>
  <p>This is a test.</p>

  <hr>

  <myselects>
    <s1r1 id="foo">please doit 1</s1r1>
    <s1r2>please doit 2</s1r2>
    <s1r3>please doit 3</s1r3>
    <s2r1>please doit 1</s2r1>
    <s2r2>please doit 2</s2r2>
    <s2r3>please doit 3</s2r3>
  </myselects>

  <hr>

</body>
</html>
